
CREATE SEQUENCE seq_TRV_DESTINATION START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE seq_TRV_LODGING START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE seq_TRV_TRANSPORT START WITH 1 INCREMENT BY 1;

CREATE TABLE TRV_TRIP (ID number(10) NOT NULL, NAME varchar2(30), DESTINATION varchar2(30), DATE_FROM date, DATE_TO date, PRIMARY KEY (ID));
CREATE TABLE TRV_DESTINATION (ID number(10) NOT NULL, DESTINATION varchar2(30), DATE_FROM date, DATE_TO date, TRIP_ID number(10) NOT NULL, PRIMARY KEY (ID));
CREATE TABLE TRV_TRANSPORT (ID number(10) NOT NULL, NAME varchar2(30), TRANSPORT_FROM varchar2(30), TRANSPORT_TO  varchar2(30), DATE_FROM TIMESTAMP, DATE_to TIMESTAMP, 
PRICE number(5, 2), NOTES varchar2(300), TRIP_ID number(10) NOT NULL, PRIMARY KEY (ID));
CREATE TABLE TRV_LODGING (ID number(10) NOT NULL, NAME varchar2(30), DATE_FROM date, DATE_TO date, PRICE number(5, 2), NOTES varchar2(300), DESTINATION_ID number(10) NOT NULL, PRIMARY KEY (ID));

ALTER TABLE TRV_DESTINATION ADD CONSTRAINT FKDESTINATION FOREIGN KEY (TRIP_ID) REFERENCES TRV_TRIP (ID);
ALTER TABLE TRV_TRANSPORT ADD CONSTRAINT FKTRANSPORT FOREIGN KEY (TRIP_ID) REFERENCES TRV_TRIP (ID);
ALTER TABLE TRV_LODGING ADD CONSTRAINT FKLODGING FOREIGN KEY (DESTINATION_ID) REFERENCES TRV_DESTINATION (ID);

insert into TRV_TRIP values (1, 'SWIETA', 'TORUN', DATE '2017-12-01', DATE '2017-12-09');
insert into TRV_DESTINATION values (1, 'TORUN', DATE '2017-12-01', DATE '2017-12-09',1);
insert into TRV_TRANSPORT values (1, 'POLSKIBUS', 'WARSZAWA', 'TORUN', TIMESTAMP '2017-12-09 12:00:00', TIMESTAMP '2017-12-09 14:30:00',25,'START: WARSZAWA MLOCINY',1);
insert into TRV_LODGING values (1, 'BB TORUN', DATE '2017-12-01', DATE '2017-12-09',120, 'NOTATKI JAKIES', 1);

commit;
